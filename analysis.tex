\chapter{Observations}

The experiment first subjected all the 3 SHA-3 finalist algorithm to hill climbing, simulated annealing, and
random selection; for permutation rounds of 1, 2, 3. The chaining value length was kept at 32 bits; and all
the possible four message digest sizes were evaluated. Tabu search algorithm was applied only to Gr{\o}stl
for rounds 1 and 2, for digest size of 224 bits. At first time, each collision finding algorithm was given
128 trials of experiment, for each hashing algorithm for a particular digest size and permutation round and
input class. The experiment, was again conducted as mentioned; but with chaining value of length 64 bits. Since
tabu search had previously proved to be expensive, with absence of encouraging results; it was discontinued.
The experiment on random selection was not done, since hill climbing and simulated annealing took much longer
time, than it took for the chaining value of 64 bits, and even that was discontinued. Since the results from
the 64 bit length chaining value weren't that encouraging, hence we stuck to chaining value of bit length 32.
We this time repeated our experiment, but with 256 trials instead of 128 trials, and experimented with rounds
of 3 and 4. All the following observations and numbers can be found on the 
\href{https://github.com/sxs9174/MSProjectCode/tree/master/MSProjectCode/Output}{git repository} for the source
code implementation of the experiment.

\section{Choice of programming language}

Java comes as not the best choice in implementing algorithms related to hashing. Although since this experiment 
required GUI, and platform compatibility which made Java ideal tool. The SHA-3 finalist algorithms have word size
or state size parameters of 32 or 64 bits, which exploit the computer architecture of having these word sizes
built in or used, and using them as single data entities. In languages like C, there are primitive data types
of size 4 bytes or 8 bytes, which can be easily integrated into the hashing algorithm. Java also has similar
word size, but by default the data type is always signed. This creates problems while bit shifting or implementing
some of the modulus operations. The leading bit is zero and during bit shifts if the bit is toggled to 1, then 
the data in it will treated as negative number, due to which some of the optimizations cannot be performed easily.

\section{Average iterations}

Table 6.1 to 6.3 show the average iterations for the hill climbing algorithm applied to the 3 SHA-3 finalist algorithm,
for a chaining value of length 32 bits. For most of the algorithms except for the BLAKE for 1 permutation round
the number of iterations increase as the digest size is increased. Also the number of iterations also seem to
increase when number of rounds are increased, but at round 3 and 4 they are almost similar. For 32 bit chaining value
the number of iterations for hill climbing algorithm applied to all SHA-3 finalist algorithm, remains around 900.
For Keccak in hill climbing, when the permutation round was set at 1, the average iterations it took was around 532,
lower than other SHA-3 finalist for same number of rounds. The number of iterations for random selection, simulated
annealing for 32 bit chaining value were fixed at 1024 iterations. For the 64 bit length chaining value, for the
simulated annealing experiment the number of iterations were set to 11 times the number of the digest size in bit
length. So for digest length 224, 256, 384 and 512 we set iterations at 2464, 2816, 4224, 5632 respectively. 

The average iterations for tabu search for Gr{\o}stl message for digest length 224 and permutation round 1 and 2
was 335254.443. Also there were no collisions found with this method. Being so computationally expensive and with
no positive results, the experiment with tabu search was discontinued.

As the number of bits in chaining value is increased from 32 to 64, the number of iterations increases to around 3500.
The increase in number of iterations is more than three and half times, than what is observed in 32 bit chaining value.
\begin{table}
  \begin{center}
    \begin{tabular}{ *{5}{| c |} }                                 \hline
                 & \multicolumn{4}{|c|}{Rounds}                 \\ \hline
     Digest Size & 1         & 2         & 3         & 4        \\ \hline
     224         & 803.6331  & 891.3276  & 886.56465 & 883.1557 \\ \hline
     256         & 804.5944  & 891.35455 & 892.13813 & 885.4943 \\ \hline
     384         & 1137.8868 & 898.2596  & 899.3996  & 902.6081 \\ \hline
     512         & 1118.9453 & 902.0659  & 903.68877 & 906.0339 \\ \hline
    \end{tabular}
    \caption{Average iterations over all input cases for Hill Climbing for BLAKE for chaining value
    of bit length 32}
  \end{center}
\end{table}

\begin{table}
  \begin{center}
    \begin{tabular}{ *{5}{| c |} }                                  \hline
                 & \multicolumn{4}{|c|}{Rounds}                  \\ \hline
     Digest Size & 1         & 2         & 3         & 4         \\ \hline
     224         & 875.893   & 888.3345  & 886.71898 & 885.8383  \\ \hline
     256         & 889.72437 & 887.639   & 891.2398  & 889.7382  \\ \hline
     384         & 872.1038  & 897.5908  & 898.66531 & 897.1204  \\ \hline
     512         & 896.17804 & 904.18335 & 904.1414  & 902.55646 \\ \hline
    \end{tabular}
    \caption{Average iterations over all input cases for Hill Climbing for Gr{\o}stl for chaining value
    of bit length 32}
  \end{center}
\end{table}

\begin{table}
  \begin{center}
    \begin{tabular}{ *{5}{| c |} }                                 \hline
                 & \multicolumn{4}{|c|}{Rounds}                 \\ \hline
     Digest Size & 1         & 2         & 3         & 4        \\ \hline
     224         & 532.2517  & 880.6999  & 883.23035 & 888.5428 \\ \hline
     256         & 532.341   & 888.98126 & 889.24855 & 895.0305 \\ \hline
     384         & 533.9329  & 892.61993 & 899.02125 & 904.8013 \\ \hline
     512         & 533.70807 & 900.46466 & 905.87    & 902.2507 \\ \hline
    \end{tabular}
    \caption{Average iterations over all input cases for Hill Climbing for Keccak for chaining value
    of bit length 32}
  \end{center}
\end{table}

\begin{table}
  \begin{center}
    \begin{tabular}{ *{4}{| c |} }                      \hline
                 & \multicolumn{3}{|c|}{Rounds}      \\ \hline
     Digest Size & 1         & 2         & 3         \\ \hline
     224         & 4190.473  & 3465.0413 & 3483.752  \\ \hline
     256         & 4264.3496 & 3456.9246 & 3431.7415 \\ \hline
     384         & 3885.6829 & 3515.1746 & 3528.4922 \\ \hline
     512         & 3984.2366 & 3535.423  & 3559.4246 \\ \hline
    \end{tabular}
    \caption{Average iterations over all input cases for Hill Climbing for BLAKE for chaining value
    of bit length 64}
  \end{center}
\end{table}

\begin{table}
  \begin{center}
    \begin{tabular}{ *{4}{| c |} }                      \hline
                 & \multicolumn{3}{|c|}{Rounds}      \\ \hline
     Digest Size & 1         & 2         & 3         \\ \hline
     224         & 3687.7493 & 3468.3171 & 3469.366  \\ \hline
     256         & 3714.0242 & 3479.8074 & 3473.6194 \\ \hline
     384         & 3594.1716 & 3522.1423 & 3512.8254 \\ \hline
     512         & 3581.0823 & 3544.302  & 3559.9834 \\ \hline
    \end{tabular}
    \caption{Average iterations over all input cases for Hill Climbing for Gr{\o}stl for chaining value
    of bit length 64}
  \end{center}
\end{table}

\begin{table}
  \begin{center}
    \begin{tabular}{ *{4}{| c |} }                      \hline
                 & \multicolumn{3}{|c|}{Rounds}      \\ \hline
     Digest Size & 1         & 2         & 3         \\ \hline
     224         & 2118.8818 & 3535.5684 & 3457.5586 \\ \hline
     256         & 2118.3499 & 3557.9949 & 3466.1624 \\ \hline
     384         & 2134.1736 & 3676.9707 & 3521.3984 \\ \hline
     512         & 2139.1523 & 3764.485  & 3562.9753 \\ \hline
    \end{tabular}
    \caption{Average iterations over all input cases for Hill Climbing for Keccak for chaining value
    of bit length 64}
  \end{center}
\end{table}

\section{Near collisions}

If the collision algorithm was able to find a chaining value by iteratively going through its neighbourhood, that got
the two message digests to agree on more than 65\% of the bits, then it was noted as a collision. In the tables
starting from 6.7 to 6.something we have shown the number of input pairs in a input case of start, middle or end that
showed collision, and the maximum number of trials in a pair that collision was obtained. In the tables below, the
letters S, M, E stand for start, middle and end input case. The number of cases of collision, followed by maximum number
of trials in a case where a collision was obtained, and separated by slash are entered into the tables.

\subsection{Hill Climbing}

In the collision tables for 32 bit chaining value trials for round 1 and 2 were 128, while for round 3 and 4 were 256.
So the numbers for round 3 and 4 should reflect more accuracy. Although there would be very little inconsistency
when comparing numbers from round 1 and 2; and round 3 and 4. Since, round 1 and 2 show more near collision figures
as compared to rounds 3 and 4. For the 64 bit chaining value, the number of trials was set at 128.

For BLAKE in round 1, collisions can be found in each instance and trial. However for rounds 2, 3, 4 the message pairs
that show collision and for trials reduced to less than 20, for digest lengths of 224 and 256. For digest lengths of
384, 512 in higher number of rounds, collisions are not obtained. The aforementioned observations hold true for
chaining values of lengths 32 and 64 both.

\begin{table}
  \begin{center}
    \begin{tabular}{ *{13}{| c |} }                      \hline
      \multirow{3}{*}{Digest size} & \multicolumn{12}{|c|}{Rounds}      \\ \cline{2-13}
        & \multicolumn{3}{|c|}{1}   & \multicolumn{3}{|c|}{2} & \multicolumn{3}{|c|}{3} & \multicolumn{3}{|c|}{4} \\ \cline{2-13}
         & S    & M      & E        & S   & M   & E           & S    & M    & E         & S    & M   & E         \\ \hline
     224 & 2/50 & 19/128   & 20/128 & 2/2 & 8/1 & 3/2         & 8/3  & 12/2 & 14/3/2    & 12/2 & 7/2 & 6/1       \\ \hline
     256 & 0/0  & 19/128   & 20/128 & 1/1 & 1/1 & 2/1         & 5/2  & 2/1  & 3/1       & 1/1  & 0/0 & 2/1       \\ \hline
     384 & 18/128 & 20/128 & 20/128 & 0/0 & 0/0 & 0/0         & 0/0  & 0/0  & 0/0       & 0/0  & 0/0 & 0/0       \\ \hline
     512 & 18/128 & 20/128 & 20/128 & 0/0 & 0/0 & 0/0         & 0/0  & 0/0 & 0/0        & 0/0  & 0/0 & 0/0       \\ \hline
    \end{tabular}
    \caption{Collisions and maximum trials a input pair had collision for BLAKE with Hill Climbing algorithm for 32 bit 
    chaining value.}
  \end{center}
\end{table}

\begin{table}
  \begin{center}
    \begin{tabular}{ *{10}{| c |} }                      \hline
      \multirow{3}{*}{Digest Size} & \multicolumn{9}{|c|}{Rounds}      \\ \cline{2-10}
         & \multicolumn{3}{|c|}{1}  & \multicolumn{3}{|c|}{2}  & \multicolumn{3}{|c|}{3} \\ \cline{2-10}
         & S      & M      & E      & S      & M      & E      & S    & M    & E        \\ \hline
     224 & 16/128 & 20/128 & 20/128 & 10/3   & 16/4   & 12/6   & 15/3 & 12/3 & 16/4     \\ \hline
     256 & 15/128 & 20/128 & 20/128 & 5/2    & 4/1    & 0/0    & 3/1  & 8/2  & 5/1      \\ \hline
     384 & 20/128 & 20/128 & 20/128 & 0/0    & 0/0    & 0/0    & 0/0  & 0/0  & 0/0      \\ \hline
     512 & 19/128 & 20/128 & 20/128 & 0/0    & 0/0    & 0/0    & 0/0  & 0/0  & 0/0      \\ \hline
    \end{tabular}
    \caption{Collisions and maximum trials a input pair had collision for BLAKE with Hill Climbing algorithm for 64 bit 
    chaining value.}
  \end{center}
\end{table}

Gr{\o}stl follows a similar pattern with as that of BLAKE, though for digest size 256 and round 1 it seems to be less
collision prone, but experimental factors like choosing a chaining value could be a reason for the outlier. As the digest
size increases with the number of rounds, the collision decreases. Rounds 3 and 4 have no collision for BLAKE at digest
sizes greater than 256.
 
\begin{table}
  \begin{center}
    \begin{tabular}{ *{13}{| c |} }                      \hline
      \multirow{3}{*}{Digest size} & \multicolumn{12}{|c|}{Rounds}      \\ \cline{2-13}
         & \multicolumn{3}{|c|}{1}  & \multicolumn{3}{|c|}{2} & \multicolumn{3}{|c|}{3} & \multicolumn{3}{|c|}{4} \\ \cline{2-13}
         & S    & M      & E        & S   & M   & E           & S    & M    & E         & S    & M   & E          \\ \hline
     224 & 9/4  & 1/2    & 0/0      & 4/2 & 6/2 & 6/2         & 11/2 & 10/3 & 8/2       & 13/3 & 9/2 & 11/4       \\ \hline
     256 & 1/2  & 0/0    & 0/0      & 3/1 & 1/1 & 2/1         & 3/1  & 4/1  & 3/1       & 2/1  & 2/1 & 3/1        \\ \hline
     384 & 0/0  & 0/0    & 12/128   & 0/0 & 0/0 & 0/0         & 0/0  & 0/0 & 0/0        & 0/0  & 0/0 & 0/0        \\ \hline
     512 & 8/17 & 0/0    & 14/128   & 0/0 & 0/0 & 0/0         & 0/0  & 0/0 & 0/0        & 0/0  & 0/0 & 0/0        \\ \hline
    \end{tabular}
    \caption{Collisions and maximum trials a input pair had collision for Gr{\o}stl with Hill Climbing algorithm for 32 bit 
    chaining value.}
  \end{center}
\end{table}

\begin{table}
  \begin{center}
    \begin{tabular}{ *{10}{| c |} }                      \hline
      \multirow{3}{*}{Digest Size} & \multicolumn{9}{|c|}{Rounds}      \\ \cline{2-10}
         & \multicolumn{3}{|c|}{1}  & \multicolumn{3}{|c|}{2}  & \multicolumn{3}{|c|}{3} \\ \cline{2-10}
         & S      & M      & E      & S      & M      & E      & S    & M    & E        \\ \hline
     224 & 17/10  & 16/6   & 10/7   & 13/4   & 10/4   & 17/4   & 15/4 & 18/4 & 16/3     \\ \hline
     256 & 9/5    & 12/3   & 4/2    & 4/2    & 3/1    & 7/2    & 7/1  & 4/1  & 4/1      \\ \hline
     384 & 1/128  & 0/0    & 13/128 & 0/0    & 0/0    & 0/0    & 0/0  & 0/0  & 0/0      \\ \hline
     512 & 8/30   & 0/0    & 20/128 & 0/0    & 0/0    & 0/0    & 0/0  & 0/0  & 0/0      \\ \hline
    \end{tabular}
    \caption{Collisions and maximum trials a input pair had collision for Gr{\o}stl with Hill Climbing algorithm for 64 bit 
    chaining value.}
  \end{center}
\end{table}

Keccak from the numbers seems to be least effective if only single or double permutation rounds are used. Collision can
be found in Keccak even for 3 rounds, at digest size 384. Keccak only seems secure after getting more than 2 rounds for 
digest size 512 or rounds more than 3 for digest size 384.

\begin{table}
  \begin{center}
    \begin{tabular}{ *{13}{| c |} }                      \hline
      \multirow{3}{*}{Size} & \multicolumn{12}{|c|}{Rounds}      \\ \cline{2-13}
         & \multicolumn{3}{|c|}{1}  & \multicolumn{3}{|c|}{2} & \multicolumn{3}{|c|}{3} & \multicolumn{3}{|c|}{4} \\ \cline{2-13}
         & S      & M      & E      & S      & M      & E      & S    & M    & E         & S    & M    & E        \\ \hline
     224 & all    & all    & all    & all    & all    & all    & 11/3 & 12/3 & 17/5      & 12/3 & 11/3 & 10/2     \\ \hline
     256 & all    & all    & all    & all    & all    & all    & 2/1  & 4/1  & 5/2       & 4/1  & 1/1  & 3/1      \\ \hline
     384 & all    & all    & all    & all    & all    & all    & 0/0  & 0/0  & 1/1       & 0/0  & 0/0  & 0/0      \\ \hline
     512 & all    & all    & all    & all    & all    & all    & 0/0  & 0/0 & 0/0        & 0/0  & 0/0  & 0/0      \\ \hline
    \end{tabular}
    \caption{Collisions and maximum trials a input pair had collision for Keccak with Hill Climbing algorithm for 32 bit 
    chaining value. The word "all" stands for number 20/128.}
  \end{center}
\end{table}

\begin{table}
  \begin{center}
    \begin{tabular}{ *{10}{| c |} }                      \hline
      \multirow{3}{*}{Digest Size} & \multicolumn{9}{|c|}{Rounds}      \\ \cline{2-10}
         & \multicolumn{3}{|c|}{1}  & \multicolumn{3}{|c|}{2}  & \multicolumn{3}{|c|}{3} \\ \cline{2-10}
         & S      & M      & E      & S      & M      & E      & S    & M    & E        \\ \hline
     224 & 20/128 & 20/128 & 20/128 & 20/128 & 20/128 & 20/128 & 18/7 & 18/8 & 19/6     \\ \hline
     256 & 20/128 & 20/128 & 20/128 & 20/128 & 20/128 & 20/128 & 7/3  & 7/2  & 6/2      \\ \hline
     384 & 20/128 & 20/128 & 20/128 & 20/128 & 20/128 & 20/128 & 1/1  & 0/0  & 0/0      \\ \hline
     512 & 20/128 & 20/128 & 20/128 & 20/128 & 20/128 & 20/128 & 0/0  & 0/0  & 0/0      \\ \hline
    \end{tabular}
    \caption{Collisions and maximum trials a input pair had collision for Keccak with Hill Climbing algorithm for 64 bit 
    chaining value.}
  \end{center}
\end{table}

\subsection{Simulated Annealing}
Similar to Hill Climbing in simulated annealing, collision tables for 32 bit chaining value trials for round 1 and 2 were
from 128 trials, while for round 3 and 4 were 256 trials. 

\begin{table}
  \begin{center}
    \begin{tabular}{ *{13}{| c |} }                      \hline
      \multirow{3}{*}{Digest size} & \multicolumn{12}{|c|}{Rounds}      \\ \cline{2-13}
        & \multicolumn{3}{|c|}{1}   & \multicolumn{3}{|c|}{2} & \multicolumn{3}{|c|}{3} & \multicolumn{3}{|c|}{4} \\ \cline{2-13}
         & S    & M      & E        & S   & M   & E           & S    & M    & E         & S    & M   & E         \\ \hline
     224 & 2/50 & 19/128   & 20/128 & 2/2 & 8/1 & 3/2         & 8/3  & 12/2 & 14/3/2    & 12/2 & 7/2 & 6/1       \\ \hline
     256 & 0/0  & 19/128   & 20/128 & 1/1 & 1/1 & 2/1         & 5/2  & 2/1  & 3/1       & 1/1  & 0/0 & 2/1       \\ \hline
     384 & 18/128 & 20/128 & 20/128 & 0/0 & 0/0 & 0/0         & 0/0  & 0/0  & 0/0       & 0/0  & 0/0 & 0/0       \\ \hline
     512 & 18/128 & 20/128 & 20/128 & 0/0 & 0/0 & 0/0         & 0/0  & 0/0 & 0/0        & 0/0  & 0/0 & 0/0       \\ \hline
    \end{tabular}
    \caption{Collisions and maximum trials a input pair had collision for BLAKE with Simulated Annealing algorithm for 32 bit 
    chaining value.}
  \end{center}
\end{table}

\begin{table}
  \begin{center}
    \begin{tabular}{ *{13}{| c |} }                      \hline
      \multirow{3}{*}{Digest size} & \multicolumn{12}{|c|}{Rounds}      \\ \cline{2-13}
         & \multicolumn{3}{|c|}{1}  & \multicolumn{3}{|c|}{2} & \multicolumn{3}{|c|}{3} & \multicolumn{3}{|c|}{4} \\ \cline{2-13}
         & S    & M      & E        & S   & M   & E           & S    & M    & E         & S    & M   & E          \\ \hline
     224 & 9/4  & 1/2    & 0/0      & 4/2 & 6/2 & 6/2         & 11/2 & 10/3 & 8/2       & 13/3 & 9/2 & 11/4       \\ \hline
     256 & 1/2  & 0/0    & 0/0      & 3/1 & 1/1 & 2/1         & 3/1  & 4/1  & 3/1       & 2/1  & 2/1 & 3/1        \\ \hline
     384 & 0/0  & 0/0    & 12/128   & 0/0 & 0/0 & 0/0         & 0/0  & 0/0 & 0/0        & 0/0  & 0/0 & 0/0        \\ \hline
     512 & 8/17 & 0/0    & 14/128   & 0/0 & 0/0 & 0/0         & 0/0  & 0/0 & 0/0        & 0/0  & 0/0 & 0/0        \\ \hline
    \end{tabular}
    \caption{Collisions and maximum trials a input pair had collision for Gr{\o}stl with Simulated Annealing algorithm for 32 bit 
    chaining value.}
  \end{center}
\end{table}

\begin{table}
  \begin{center}
    \begin{tabular}{ *{13}{| c |} }                      \hline
      \multirow{3}{*}{Size} & \multicolumn{12}{|c|}{Rounds}      \\ \cline{2-13}
         & \multicolumn{3}{|c|}{1}  & \multicolumn{3}{|c|}{2} & \multicolumn{3}{|c|}{3} & \multicolumn{3}{|c|}{4} \\ \cline{2-13}
         & S      & M      & E      & S      & M      & E      & S    & M    & E         & S    & M    & E        \\ \hline
     224 & 20/128 & 20/128 & 20/128 & 20/128 & 20/128 & 20/128 & 11/3 & 12/3 & 17/5      & 12/3 & 11/3 & 10/2     \\ \hline
     256 & 20/128 & 20/128 & 20/128 & 20/128 & 20/128 & 20/128 & 2/1  & 4/1  & 5/2       & 4/1  & 1/1  & 3/1      \\ \hline
     384 & 20/128 & 20/128 & 20/128 & 20/128 & 20/128 & 20/128 & 0/0  & 0/0  & 1/1       & 0/0  & 0/0  & 0/0      \\ \hline
     512 & 20/128 & 20/128 & 20/128 & 20/128 & 20/128 & 20/128 & 0/0  & 0/0 & 0/0        & 0/0  & 0/0  & 0/0      \\ \hline
    \end{tabular}
    \caption{Collisions and maximum trials a input pair had collision for Keccak with Simulated Annealing algorithm for 32 bit 
    chaining value.}
  \end{center}
\end{table}
